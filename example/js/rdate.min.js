!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).rdate=t()}(this,function(){"use strict";function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}return new(function(){function D(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,D),this.version="1.0.1",this.author="rookie_fly",this.creator="rookie_fly",this.createDate="2018-07-27",this.updateDate="2020-08-22"}var e,t,a;return e=D,a=[{key:"_dt",value:function(e){return e?new Date("string"==typeof e&&-1<e.indexOf("-")?e.replace(/-/g,"/"):e):new Date}}],(t=[{key:"format",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var n,r,u=t[0],o=t[1];t.length?1==t.length?isNaN(new Date(u).valueOf())?(r=u,n=new Date):(n=new Date("string"==typeof u?u.replace(/-/g,"/"):u),r="yyyy-MM-dd hh:mm:ss"):2<=t.length&&(n=new Date("string"==typeof u?u.replace(/-/g,"/"):u),r=o):(n=new Date,r="yyyy-MM-dd hh:mm:ss");var i={"y+":String(n.getFullYear()),"M+":String(n.getMonth()+1).padStart(2,0),"d+":String(n.getDate()).padStart(2,0),"h+":String(n.getHours()).padStart(2,0),"m+":String(n.getMinutes()).padStart(2,0),"s+":String(n.getSeconds()).padStart(2,0)};for(var y in i)!function(t){r.includes(t.substr(0,1))&&(r=r.replace(new RegExp(t,"g"),function(e){return i[t].substr(0,e.length)}))}(y);return r}},{key:"getStamp",value:function(e,t){var a=arguments;if(!a.length)return(new Date).getTime();1==a.length&&"number"==typeof a[0]&&(t=a[0],e=void 0);var n=D._dt(e);return n.setDate(n.getDate()+(void 0===t?0:t)),+n}},{key:"getStampBeforAfter",value:function(e){var t,a=D._dt(e);return a.setDate(a.getDate()-1),t=+a,a.setDate(a.getDate()+2),{before:t,after:+a}}},{key:"getStampStartEnd",value:function(e){var t=D._dt(e);return{start:+new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0),end:+new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59)}}},{key:"getDaysByStamp",value:function(e,t){return parseInt(Math.abs(e-t)/864e5)}},{key:"getCurWeekFirstDay",value:function(){var e=new Date,t=new Date(e-864e5*(e.getDay()-1));return this.format(t,"yyyy-MM-dd")}},{key:"getCurWeekLastDay",value:function(){var e=new Date(this.getCurWeekFirstDay()+" 00:00:00");return e.setDate(e.getDate()+6),this.format(e,"yyyy-MM-dd")}},{key:"getMonthFirstDay",value:function(e){var t=D._dt(e);return this.format(t,"yyyy-MM-")+"01"}},{key:"getMonthLastDay",value:function(e){var t=D._dt(e);return t.setMonth(t.getMonth()+1),t.setDate(1),t.setDate(t.getDate()-1),this.format(t,"yyyy-MM-dd")}},{key:"getDaysByDate",value:function(e,t){return parseInt(Math.abs(new Date(e)-new Date(t))/864e5)}},{key:"getHalfYear",value:function(e){return this.format(new Date(D._dt(e)-15768e6),"yyyy-MM-dd")}},{key:"getGapYearDate",value:function(e,t){var a=0<arguments.length&&void 0!==e?e:0,n=D._dt(1<arguments.length?t:void 0);return n.setFullYear(n.getFullYear()+a),this.format(n,"yyyy-MM-dd")}},{key:"getGapMonthDate",value:function(e,t){var a=D._dt(t);return a.setMonth(a.getMonth()+e),this.format(a,"yyyy-MM-dd")}},{key:"getWeekByDate",value:function(e,t){if(!arguments.length)throw"缺少参数week！";var a=D._dt(t),n=0===e?7:e,r=0===a.getDay()?7:a.getDay();return n==r||a.setDate(a.getDate()-(r-n)),this.format(a,"yyyy-MM-dd")}},{key:"getMonthWeek",value:function(e){var t=D._dt(e),a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=a.getDay(),r=a.getDate();return 0==n&&(n=7),{getMonth:a.getMonth()+1,getYear:a.getFullYear(),getWeek:Math.ceil((r+6-n)/7)}}},{key:"getYearWeek",value:function(e){var t=D._dt(e),a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),0,1),r=Math.round((a-n)/864e5);return Math.ceil((r+(n.getDay()+1-1))/7)}},{key:"weekInfo",value:function(e){function t(e,t,a){var n=new Date(e,parseInt(t)-1,a),r=new Date(e,0,1),u=Math.round((n.valueOf()-r.valueOf())/864e5);return Math.ceil((u+(r.getDay()+1-1))/7)}var a,n,r,u,o=D._dt(e),i=o.getFullYear(),y=o.getMonth()+1,l=o.getDate(),g="",f="",s=t(i,y,l);return y<4?(g=1,f=s):y<7?(g=2,f=s-t(i,4,1),1<new Date(i,4,1).getDay()&&(f+=1)):y<10?(g=3,f=s-t(i,7,1),1<new Date(i,7,1).getDay()&&(f+=1)):(g=4,f=s-t(i,10,1),1<new Date(i,10,1).getDay()&&(f+=1)),{year:i+"-"+y+"-"+l,yearWeek:t(i,y,l),month:y,monthWeek:(a=l,n=new Date(i,parseInt(y)-1,a),r=n.getDay(),u=n.getDate(),Math.ceil((u+6-r)/7)),quarter:g,quarterWeek:f}}},{key:"getWeek",value:function(e){var t=D._dt(e),a=t.getDay(),n=a?a-1:6;t.setDate(t.getDate()-n);var r=this.format(t,"yyyy-MM-dd");return t.setDate(t.getDate()+6),{start:r,end:this.format(t,"yyyy-MM-dd")}}},{key:"getDiffDate",value:function(n,e){var r=this;if(!n)return this.format("yyyy-MM-dd");var t=e||this.format("yyyy-MM-dd"),a=parseInt(Math.abs(new Date(n.split(" ")[0]+" 00:00:00")-new Date(t.split(" ")[0]+" 00:00:00"))/1e3/24/60/60)+1;return Array(a).fill(0).reduce(function(e,t,a){return[].concat(u(e),[r.format(r.getStamp(n)+864e5*a,"yyyy-MM-dd")])},[])}},{key:"previewWeek",value:function(e,t,a){var n=2<arguments.length?a:void 0;return 0<e&&e<8?(1<arguments.length&&void 0!==t?t:"周")+["一","二","三","四","五","六","日"][e-1]:void 0===n?"Invalid week":n}},{key:"previewMonth",value:function(e,t){return 0<e&&e<13?["一","二","三","四","五","六","七","八","九","十","十一","十二"][e-1]+"月":void 0===t?"Invalid month":t}},{key:"getPassDaysDate",value:function(e,t){return arguments.length?u(Array(+e+1).keys()).map(function(e){return new Date((t?new Date(t):Date.now())-864e5*e).toLocaleDateString()}).map(function(e){return e.split(/\/|-/).map(function(e){return e.padStart(2,"0")}).join("-")}).splice(1):[]}},{key:"isLeapYear",value:function(e){return!(e%(e%100?4:400))}},{key:"isTime",value:function(e){var t=e.match(/^(\d{1,2})(:)?(\d{1,2})\2(\d{1,2})$/);return null!=t&&!(24<=t[1]||60<=t[3]||60<=t[4])}},{key:"isDateTime",value:function(e){var t=e.match(/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/);if(null==t)return!1;var a=new Date(t[1],t[3]-1,t[4]);return a.getFullYear()==t[1]&&a.getMonth()+1==t[3]&&a.getDate()==t[4]}},{key:"isAllDateTime",value:function(e){var t=e.match(/^(\d{4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/);if(null==t)return!1;var a=new Date(t[1],t[3]-1,t[4],t[5],t[6],t[7]);return a.getFullYear()==t[1]&&a.getMonth()+1==t[3]&&a.getDate()==t[4]&&a.getHours()==t[5]&&a.getMinutes()==t[6]&&a.getSeconds()==t[7]}},{key:"isToday",value:function(e){return(new Date).toLocaleDateString()==new Date(e.replace(/-/g,"/")).toLocaleDateString()}},{key:"isYesterday",value:function(e){var t=new Date(new Date-864e5),a=new Date(e);return t.getYear()===a.getYear()&&t.getMonth()===a.getMonth()&&t.getDate()===a.getDate()}},{key:"compareDate",value:function(e,t){return new Date(e.replace(/-/g,"/"))<new Date(t.replace(/-/g,"/"))}}])&&n(e.prototype,t),a&&n(e,a),D}())});
//# sourceMappingURL=rdate.min.js.map
